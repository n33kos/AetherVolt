!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("AetherVolt",[],t):"object"==typeof exports?exports.AetherVolt=t():e.AetherVolt=t()}(window,function(){return function(n){var i={};function a(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}return a.m=n,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=22)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.x=e,this.y=t}return i(n,[{key:"toArray",value:function(){return[this.x,this.y]}}]),n}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=r(n(3)),v=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function d(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,e)),n=e.animations,i=e.currentFrame,a=void 0===i?0:i,r=e.currentAnimation,o=void 0===r?null:r,s=e.mirrorX,u=void 0!==s&&s,l=e.mirrorY,c=void 0!==l&&l,f=e.scale,h=void 0===f?new v.default(1,1):f;return t.animations=n,t.currentAnimation=o,t.currentFrame=a,t.scale=h,t.mirrorX=u,t.mirrorY=c,t.lastAnimation=null,t.tickCounter=0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,a.default),i(d,[{key:"load",value:function(){var n=this;Object.keys(this.animations).forEach(function(e){var t=new Image;t.src=n.animations[e].spriteSheet,n.animations[e].image=t})}},{key:"calculateOffset",value:function(){this.scale&&(this.absoluteOffset=new v.default(-this.offset.x*this.dimensions.x*this.scale.x*(this.mirrorX?-1:1),-this.offset.y*this.dimensions.y*this.scale.y*(this.mirrorY?-1:1)))}},{key:"draw",value:function(){this.animations[this.currentAnimation]&&(this.handleFrames(),(this.mirrorX||this.mirrorY)&&this.GameState.Canvas.ctx.scale(this.mirrorX?-1:1,this.mirrorY?-1:1),this.GameState.Canvas.ctx.drawImage(this.animations[this.currentAnimation].image,this.currentFrame*this.dimensions.x,0,this.dimensions.x,this.dimensions.y,0,0,this.dimensions.x*this.scale.x,this.dimensions.y*this.scale.y))}},{key:"handleFrames",value:function(){this.tickCounter++,this.animations[this.currentAnimation].loop&&(this.incrementAnimationFrame(),this.currentFrame>=this.animations[this.currentAnimation].frames&&(this.currentFrame=0)),this.animations[this.currentAnimation].loop||(this.currentFrame>=this.animations[this.currentAnimation].frames-1?(this.tickCounter=0,this.currentFrame=this.animations[this.currentAnimation].frames-1):this.incrementAnimationFrame()),this.lastAnimation!==this.currentAnimation&&(this.lastAnimation=this.currentAnimation,this.currentFrame=0,this.tickCounter=0)}},{key:"incrementAnimationFrame",value:function(){this.tickCounter>this.animations[this.currentAnimation].ticksPerFrame&&(this.tickCounter=0,this.currentFrame+=1)}}]),d}();t.default=o},function(e,t,n){"use strict";var o=n(27),s=n(28);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var r=0;r<16;++r)t[i+r]=a[r];return t||s(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=o(n(14)),d=o(n(0)),r=o(n(32));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function h(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e)),n=e.dimensions,i=void 0===n?new d.default(100,100):n,a=e.offset,r=void 0===a?new d.default(.5,.5):a,o=e.position,s=void 0===o?new d.default:o,u=e.rotation,l=void 0===u?0:u,c=e.alpha,f=void 0===c?1:c;return t.absoluteOffset=new d.default,t.audioNodes=[],t.canvasPosition=new d.default,t.controlCallbackIds=[],t.dimensions=i,t.offset=r,t.position=s,t.rotation=l,t.isVisible=!0,t.alpha=f,t.setPosition(s),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,a.default),i(h,[{key:"setPosition",value:function(e){this.position=e,this.canvasPosition=(0,r.default)(this.GameState,this.position),this.calculateOffset()}},{key:"calculateOffset",value:function(){this.absoluteOffset=new d.default(-this.offset.x*this.dimensions.x,-this.offset.y*this.dimensions.y)}},{key:"drawEntity",value:function(){this.isVisible&&(this.GameState.Canvas.ctx.translate(this.canvasPosition.x,this.canvasPosition.y),this.GameState.Canvas.ctx.rotate(this.rotation%(2*Math.PI)),this.GameState.Canvas.ctx.translate(this.absoluteOffset.x,this.absoluteOffset.y),this.GameState.Canvas.ctx.globalAlpha=this.alpha,this.draw(),this.GameState.Canvas.ctx.setTransform(1,0,0,1,0,0),this.GameState.Canvas.ctx.globalAlpha=1)}},{key:"update",value:function(){}},{key:"draw",value:function(){}}]),h}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0<this.attackingPlayer.actions&&"MOVE"!==this.currentAction.actionType.type&&(this.attackingPlayer.actions-=1),0<this.attackingPlayer.moves&&"MOVE"===this.currentAction.actionType.type&&(this.attackingPlayer.moves-=1),this.currentAction=new i.default({player:this.attackingPlayer}),0===this.attackingPlayer.actions&&0===this.attackingPlayer.moves&&a.default.call(this.GameState.currentLevel),this.GameState.UI.updatePlayerStats(this.players)};var i=r(n(7)),a=r(n(19));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=this.getTypeId(e),this.type=this.getTypeString(this.id)}return i(t,[{key:"getTypeId",value:function(e){return{MOVE:1,PLACE:2,ROTATE:3}[e]}},{key:"getTypeString",value:function(e){return{1:"MOVE",2:"PLACE",3:"ROTATE"}[e]}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return t.x<=e.x&&e.x<=t.x+n.x&&t.y<=e.y&&e.y<=t.y+n.y}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=n(5),c=(i=r)&&i.__esModule?i:{default:i};var o=function(){function l(e){var t=e.type,n=void 0===t?new c.default("ROTATE"):t,i=e.targetTile,a=void 0===i?null:i,r=e.sourceTile,o=void 0===r?null:r,s=e.player,u=void 0===s?null:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),this.actionType=n,this.targetTile=a,this.sourceTile=o,this.player=u,this.rotationDirection=1}return a(l,[{key:"rotate",value:function(){this.targetTile.rotateCell(this.rotationDirection)}},{key:"place",value:function(){this.targetTile.placedBy=this.player,this.targetTile.setType(this.sourceTile.tileType),this.targetTile.targetRotation=this.sourceTile.targetRotation,this.targetTile.rotation=this.sourceTile.rotation,this.targetTile.neighborPattern=this.sourceTile.neighborPattern,this.targetTile.neighbors=this.targetTile.getNeighbors(),this.targetTile.health=this.sourceTile.health,this.targetTile.maxHealth=this.sourceTile.maxHealth,this.player.hand.remove(this.sourceTile.uuid)}},{key:"move",value:function(){this.targetTile.player=this.sourceTile.player,this.sourceTile.player=null,this.targetTile.player.setAvatarPosition(this.targetTile)}},{key:"commit",value:function(){if(0<this.player.actions)switch(this.actionType.type){case"PLACE":this.place();break;case"ROTATE":this.rotate()}0<this.player.moves&&"MOVE"===this.actionType.type&&this.move()}}]),l}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=this.getTypeId(e),this.type=this.getTypeString(this.id),this.neighborPattern=this.getNeighborPattern(this.id)}return i(t,[{key:"getTypeId",value:function(e){return{EMPTY:1,PLAYER_COLUMN:2,STRAIGHT:3,BEND:4,TRIPLE:5,QUAD:6}[e]}},{key:"getTypeString",value:function(e){return{1:"EMPTY",2:"PLAYER_COLUMN",3:"STRAIGHT",4:"BEND",5:"TRIPLE",6:"QUAD"}[e]}},{key:"getNeighborPattern",value:function(e){return{1:[],2:[0,1,2,3],3:[1,3],4:[0,1],5:[0,1,3],6:[0,1,2,3]}[e]}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0},r=(u(n(15)),u(n(40))),o=u(n(1)),s=u(n(8)),S=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function P(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,P);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,e)),n=e.x,i=e.y,a=e.id,r=e.type,o=e.player,s=e.placedBy,u=e.scale,l=e.isInHand,c=void 0!==l&&l,f=e.dragPosition,h=void 0===f?null:f,d=e.targetPosition,v=void 0===d?null:d,p=e.outline,y=void 0===p?null:p,m=e.maxHealth,b=void 0===m?2:m,g=e.health,w=void 0===g?2:g;return t.x=n,t.y=i,t.id=a,t.tileType=r,t.player=o,t.isInHand=c,t.dragPosition=h,t.targetRotation=0,t.targetPosition=v,t.canvasPosition=v,t.targetScale=u,t.outline=y,t.maxHealth=b,t.health=w,t.animations={exist:{frames:5,spriteSheet:t.getSpriteSheet(),ticksPerFrame:1,loop:!0}},t.currentAnimation="exist",t.neighborPattern=[],t.isHovered=!1,t.placedBy=s,t.turbulence=new S.default(0,0),t.turbulenceStep=Math.random()*Math.PI*2,t.turbulenceSpeed=.02,t.turbulenceRange=new S.default(5,5),t.turbulenceScale=0,t.turbulenceScaleRange=.1,t.setType(r),t.calculateOffset(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(P,o.default),i(P,[{key:"setType",value:function(e){this.tileType=e,this.animations.exist.spriteSheet=this.getSpriteSheet(),this.neighborPattern=e.neighborPattern,this.load()}},{key:"init",value:function(e){this.grid=e,this.neighbors=this.getNeighbors()}},{key:"getSpriteSheet",value:function(){return this.placedBy?this.placedBy.tiles[this.tileType.id]:""}},{key:"getNeighbors",value:function(){var t=this,e=[];return this.grid?(this.neighborPattern.includes(0)&&e.push(this.grid.find(function(e){return e.id==t.x+1+"_"+t.y})),this.neighborPattern.includes(1)&&e.push(this.grid.find(function(e){return e.id==t.x+"_"+(t.y+1)})),this.neighborPattern.includes(2)&&e.push(this.grid.find(function(e){return e.id==t.x-1+"_"+t.y})),this.neighborPattern.includes(3)&&e.push(this.grid.find(function(e){return e.id==t.x+"_"+(t.y-1)})),e):[]}},{key:"rotateCell",value:function(t){var e=this.targetRotation+Math.PI/2*t;this.targetRotation=e,this.neighborPattern=this.neighborPattern.map(function(e){return(e+=t)<0&&(e=3),3<e&&(e=0),e}),this.neighbors=this.getNeighbors()}},{key:"handleRotation",value:function(){var e=this.targetRotation-this.rotation;this.rotation+=.01*e*this.GameState.deltaTime}},{key:"drawEntity",value:function(){this.outline&&(this.outline.canvasPosition=this.targetPosition,this.outline.calculateOffset(),this.outline.color=this.getOutlineColor(),this.outline.drawEntity()),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"drawEntity",this).call(this)}},{key:"draw",value:function(){this.isInHand||this.handleTurbulence(),this.handleRotation(),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"draw",this).call(this)}},{key:"getOutlineColor",value:function(){return"PLAYER_COLUMN"===this.tileType.type?"rgba(0, 0, 0, 0)":"#fff"}},{key:"handleTurbulence",value:function(){if(this.targetPosition){this.addTurbulence();var e=new S.default(this.targetPosition.x-this.canvasPosition.x-this.turbulence.x,this.targetPosition.y-this.canvasPosition.y-this.turbulence.y);this.canvasPosition=new S.default(this.canvasPosition.x+.005*e.x*this.GameState.deltaTime,this.canvasPosition.y+.005*e.y*this.GameState.deltaTime);var t=this.targetScale.x-this.scale.x-this.turbulenceScale;this.scale=new S.default(this.scale.x+.01*t*this.GameState.deltaTime,this.scale.x+.01*t*this.GameState.deltaTime),this.calculateOffset()}}},{key:"addTurbulence",value:function(){this.turbulenceStep+=this.turbulenceSpeed,this.turbulenceStep>=2*Math.PI&&(this.turbulenceStep=0),this.turbulence=new S.default(Math.cos(this.turbulenceStep)*this.turbulenceRange.x,Math.sin(this.turbulenceStep)*this.turbulenceRange.y),this.turbulenceScale=Math.cos(this.turbulenceStep)*this.turbulenceScaleRange}},{key:"emptyTile",value:function(){this.createDismissedTile(),this.setType(new s.default("EMPTY")),this.player=!1,this.placedBy=!1,this.init(this.grid)}},{key:"createDismissedTile",value:function(){var e=new r.default({sprite:this.animations.exist.spriteSheet,canvasPosition:this.canvasPosition,dimensions:this.dimensions,GameState:this.GameState,offset:this.offset,scale:this.scale});this.GameState.Scene.add(e)}},{key:"takeDamage",value:function(e){this.health-=e,"PLAYER_COLUMN"!==this.tileType.type&&this.health<=0&&this.emptyTile()}}]),P}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return 1<window.devicePixelRatio?2:1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){return this.grid.tiles.find(function(e){return e.player&&e.player.name===t})}},function(e,t,n){"use strict";function i(a,r,o,s){var u,l=0;return"boolean"!=typeof r&&(s=o,o=r,r=void 0),function(){var e=this,t=Number(new Date)-l,n=arguments;function i(){l=Number(new Date),o.apply(e,n)}s&&!u&&i(),u&&clearTimeout(u),void 0===s&&a<t?i():!0!==r&&(u=setTimeout(s?function(){u=void 0}:i,void 0===s?a-t:a))}}Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=i,t.debounce=function(e,t,n){return void 0===n?i(e,t,!1):i(e,n,!1!==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=r(n(14)),_=r(n(31));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function S(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,e)),n=e.name,i=void 0===n?"Default Level":n,a=e.rows,r=void 0===a?4:a,o=e.columns,s=void 0===o?4:o,u=e.currentPlayerTurn,l=void 0===u?0:u,c=e.selectedTile,f=void 0===c?null:c,h=e.currentAction,d=void 0===h?null:h,v=e.tileHelper,p=void 0===v?new _.default(e.GameState):v,y=e.attackingPlayer,m=void 0===y?null:y,b=e.defendingPlayer,g=void 0===b?null:b,w=e.hoveredTile,P=void 0===w?null:w;return t.name=i,t.rows=r,t.columns=s,t.currentPlayerTurn=l,t.selectedTile=f,t.currentAction=d,t.tileHelper=p,t.attackingPlayer=m,t.defendingPlayer=g,t.hoveredTile=P,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(S,a.default),i(S,[{key:"gameLogic",value:function(){}},{key:"load",value:function(){}}]),S}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function n(e){var t=e.GameState;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.GameState=t,this.audioNodes=[],this.controlCallbackIds=[]}return i(n,[{key:"load",value:function(){}},{key:"unload",value:function(){var t=this;this.audioNodes.forEach(function(e){e.stop(0)}),this.audioNodes=[],this.controlCallbackIds.forEach(function(e){t.GameState.Controls.removeCallback(e)}),this.controlCallbackIds=[]}},{key:"addControlsCallback",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;this.controlCallbackIds.push(this.GameState.Controls.addCallback(e,t,n))}},{key:"addAudioNode",value:function(e){this.audioNodes.push(e),e.load()}}]),n}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=s(n(6)),r=s(n(1)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function y(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,e)),n=e.animations,i=void 0===n?null:n,a=e.onClick,r=void 0===a?function(){}:a,o=e.onHover,s=void 0===o?function(){}:o,u=e.mouseDownSprite,l=void 0===u?null:u,c=e.mouseUpSprite,f=void 0===c?null:c,h=e.hoverSprite,d=void 0===h?null:h,v=e.order,p=void 0===v?-10:v;return t.onClick=r,t.onHover=s,(t.animations=i)||(t.animations={mouseDown:{frames:1,loop:!1,spriteSheet:l||f,ticksPerFrame:10},mouseUp:{frames:1,loop:!1,spriteSheet:f,ticksPerFrame:10},hover:{frames:1,loop:!1,spriteSheet:d||f,ticksPerFrame:10}}),t.currentAnimation="mouseUp",t.addControlsCallback("mouseDown",t.handleMouseDown.bind(t),p),t.addControlsCallback("mouseMove",t.handleMouseMove.bind(t),p),t.addControlsCallback("mouseUp",t.handleMouseUp.bind(t),p),t.addControlsCallback("touchStart",t.handleMouseDown.bind(t),p),t.addControlsCallback("touchMove",t.handleMouseMove.bind(t),p),t.addControlsCallback("touchEnd",t.handleMouseUp.bind(t),p),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(y,r.default),i(y,[{key:"isPositionInButton",value:function(e){return(0,a.default)(e,new o.default(this.canvasPosition.x+this.absoluteOffset.x*(this.mirrorX?-1:1),this.canvasPosition.y+this.absoluteOffset.y*(this.mirrorY?-1:1)),new o.default(this.dimensions.x*this.scale.x,this.dimensions.y*this.scale.y))}},{key:"handleMouseMove",value:function(){this.isPositionInButton(this.GameState.Controls.position)&&(this.currentAnimation="hover",this.onHover())}},{key:"handleMouseDown",value:function(){if(this.isPositionInButton(this.GameState.Controls.position))return this.currentAnimation="mouseDown",!0}},{key:"handleMouseUp",value:function(){if(this.currentAnimation="mouseUp",this.isPositionInButton(this.GameState.Controls.position))return this.onClick(),!0}}]),y}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.GameState=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=n(8),o=(i=a)&&i.__esModule?i:{default:i};var s=function(){function a(e){var t=e.deckSize,n=void 0===t?30:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.tiles=[],this.tilesPerType=Math.floor(n/4),this.typeCounter=0,this.currentType=0,this.allowedTypes=["STRAIGHT","BEND","TRIPLE","QUAD"];for(var i=0;i<n;i++)this.tiles.push(new o.default(this.allowedTypes[this.currentType])),this.incrementType();this.shuffle()}return r(a,[{key:"incrementType",value:function(){this.typeCounter++,this.typeCounter>=this.tilesPerType&&(this.typeCounter=0,this.currentType+=1,this.currentType>=this.allowedTypes.length&&(this.currentType=0))}},{key:"shuffle",value:function(){for(var e=this.tiles.length-1;0<e;e--){var t=Math.floor(Math.random()*(e+1)),n=[this.tiles[t],this.tiles[e]];this.tiles[e]=n[0],this.tiles[t]=n[1]}}},{key:"draw",value:function(){return this.tiles.pop()}}]),a}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(this.GameState.forceMoveAtEndOfTurn&&0<this.attackingPlayer.moves){var t=s.default.call(this,this.attackingPlayer.name),n=(0,o.default)(t.y,0,this.columns),e=this.grid.tiles.find(function(e){return e.id===t.x+"_"+n});t&&e&&(this.currentAction.actionType=new a.default("MOVE"),this.currentAction.sourceTile=t,this.currentAction.targetTile=e,this.currentAction.commit(),this.tileHelper.clear())}u.default.call(this),this.defendingPlayer=this.players[this.currentPlayerTurn],this.defendingPlayer.hand.setVisibility(!1),this.defendingPlayer.actions=this.defendingPlayer.maxActions,this.defendingPlayer.moves=this.defendingPlayer.maxMoves,this.currentPlayerTurn++,this.currentPlayerTurn>=this.players.length&&(this.currentPlayerTurn=0),this.attackingPlayer=this.players[this.currentPlayerTurn],this.deck.tiles.length<=0&&(this.deck=new r.default({deckSize:this.rows*this.columns})),this.attackingPlayer.hand.add(this.deck.draw()),this.attackingPlayer.hand.setVisibility(!0),this.currentAction=new i.default({player:this.attackingPlayer}),this.GameState.UI.updatePlayerStats(this.players)};var i=l(n(7)),a=l(n(5)),r=(l(n(4)),l(n(18))),o=l(n(44)),s=l(n(11)),u=l(n(45));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this.grid.getTileAtCanvasPosition(e);return t||(t=this.attackingPlayer.hand.getTileAtCanvasPosition(e)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=f(n(54)),r=f(n(17)),o=f(n(4)),s=f(n(10)),u=f(n(11)),l=f(n(55)),c=f(n(0));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"createCaptain",value:function(e){return this.player=new l.default({GameState:this.GameState,name:e.name,color:e.color,avatar:new a.default({GameState:this.GameState,dimensions:new c.default(64,128),scale:new c.default(2*(0,s.default)(),2*(0,s.default)()),playerName:e.name,offset:new c.default(.5,.5),onHover:this.generateOnHoverAvatarFunction(e),targetPosition:new c.default(0,0),animations:{mouseDown:{frames:12,loop:!0,spriteSheet:e.spritePath+"/Ship.png",ticksPerFrame:5},mouseUp:{frames:12,loop:!0,spriteSheet:e.spritePath+"/Ship.png",ticksPerFrame:5},hover:{frames:12,loop:!0,spriteSheet:e.spritePath+"/Ship.png",ticksPerFrame:5},damage:{frames:8,loop:!0,spriteSheet:e.spritePath+"/Ship_Damage.png",ticksPerFrame:1}}}),tiles:{1:e.spritePath+"/Propeller_Conductor_Empty.png",2:e.spritePath+"/Propeller_Conductor_Empty.png",3:e.spritePath+"/Propeller_Conductor_Straight.png",4:e.spritePath+"/Propeller_Conductor_Bend.png",5:e.spritePath+"/Propeller_Conductor_Triple.png",6:e.spritePath+"/Propeller_Conductor_Quad.png"},moves:e.moves,maxMoves:e.maxMoves,health:e.health,maxHealth:e.maxHealth}),this.player}},{key:"generateOnHoverAvatarFunction",value:function(t){var n=this;return function(){if(n.GameState.currentLevel.attackingPlayer.name===t.name){var e=u.default.call(n.GameState.currentLevel,t.name);n.GameState.currentLevel.currentAction.sourceTile=e,n.GameState.currentLevel.tileHelper.initMove(e,n.GameState.currentLevel.currentAction,o.default.bind(n.GameState.currentLevel))}}}}]),t}();t.default=h},function(e,t,n){"use strict";var i=f(n(23)),a=f(n(24)),r=f(n(25)),o=f(n(29)),s=f(n(57)),u=f(n(58)),l=f(n(59)),c=f(n(60));function f(e){return e&&e.__esModule?e:{default:e}}var h={Audio:i.default,Canvas:a.default,Controls:r.default,GameState:o.default,Render:s.default,Scene:u.default,UI:l.default,Update:c.default};document.addEventListener("DOMContentLoaded",function(e){var t=new h.GameState;t.init(),(window.GameState=t).Audio=new h.Audio(t),t.Canvas=new h.Canvas(t),t.Canvas.init(),t.Controls=new h.Controls(t),t.Controls.init(),t.Scene=new h.Scene(t),t.Scene.init(),t.Render=new h.Render(t),t.Render.init(),t.Update=new h.Update(t),t.Update.init(),t.UI=new h.UI(t),t.UI.init()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.GameState=e,this.audioContext=null,this.masterAudioNode=null,this.isInitialized=!1}return i(t,[{key:"init",value:function(){var e=new(window.AudioContext||window.webkitAudioContext),t=(this.audioContext=e).createGain();t.gain.value=.75,t.connect(e.destination),this.masterAudioNode=t,this.isInitialized=!0}},{key:"toggleMute",value:function(){"running"===this.audioContext.state?this.audioContext.suspend():"suspended"===this.audioContext.state&&this.audioContext.resume()}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=n(12);var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.GameState=e,this.cx=null,this.cy=null,this.canvas=null,this.ctx=null,this.scale=1}return i(t,[{key:"init",value:function(){this.setDimensions(),this.initCanvas()}},{key:"setDimensions",value:function(){this.scale=window.devicePixelRatio,this.width=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)*this.scale,this.height=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)*this.scale}},{key:"initCanvas",value:function(){var e=this,t=document.querySelector("canvas");t.width=this.width,t.height=this.height,this.cx=this.width/2,this.cy=this.height/2;var n=(this.canvas=t).getContext("2d");this.ctx=n,this.resizeCanvas(),window.addEventListener("resize",(0,a.throttle)(500,function(){e.setDimensions(),e.resizeCanvas()}))}},{key:"resizeCanvas",value:function(){this.canvas.width=this.width,this.canvas.height=this.height,this.cx=this.width/2,this.cy=this.height/2,this.ctx.imageSmoothingEnabled=!1}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.width,this.height)}}]),t}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=n(12),r=u(n(26)),o=u(n(2)),s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.GameState=e,this.isMouseDown=!1,this.lastPosition=null,this.position=null,this.pressedKeys=[],this.debounceValue=10,this.callbacks=r.default.callbacks}return i(t,[{key:"addCallback",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=(0,o.default)();return this.callbacks[e].push({callBack:t,order:n,uuid:i}),this.sortCallbacks(),i}},{key:"sortCallbacks",value:function(){var t=this;Object.keys(this.callbacks).forEach(function(e){t.callbacks[e].sort(function(e,t){return e.order-t.order})})}},{key:"clearCallbacks",value:function(){this.callbacks=r.default.callbacks}},{key:"removeCallback",value:function(t){var n=this;Object.keys(this.callbacks).forEach(function(e){n.callbacks[e]=n.callbacks[e].filter(function(e){return e.uuid!==t})})}},{key:"init",value:function(){var t=this;document.addEventListener("mousemove",(0,a.throttle)(this.debounceValue,function(e){return t.handleMouseMove(e)})),document.addEventListener("mousedown",function(e){return t.handleMouseDown(e)}),document.addEventListener("mouseup",function(e){return t.handleMouseUp(e)}),document.addEventListener("touchmove",(0,a.throttle)(this.debounceValue,function(e){return t.handleTouchMove(e)})),document.addEventListener("touchstart",function(e){return t.handleTouchStart(e)}),document.addEventListener("touchend",function(e){return t.handleTouchEnd(e)}),document.onkeydown=this.handleKeyDown.bind(this),document.onkeyup=this.handleKeyUp.bind(this)}},{key:"handleTouchStart",value:function(e){this.lastPosition=this.position;var t=this.isMouseDown=!0,n=!1,i=void 0;try{for(var a,r=this.callbacks.touchStart[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){if(a.value.callBack(e))break}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}},{key:"handleTouchEnd",value:function(e){this.lastPosition=this.position;var t=!(this.isMouseDown=!1),n=!1,i=void 0;try{for(var a,r=this.callbacks.touchEnd[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){if(a.value.callBack(e))break}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}},{key:"handleTouchMove",value:function(e){e.preventDefault(),this.setPosition(e);var t=!0,n=!1,i=void 0;try{for(var a,r=this.callbacks.touchMove[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){if(a.value.callBack(e))break}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}},{key:"handleMouseDown",value:function(e){this.lastPosition=this.position;var t=this.isMouseDown=!0,n=!1,i=void 0;try{for(var a,r=this.callbacks.mouseDown[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){if(a.value.callBack(e))break}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}},{key:"handleMouseUp",value:function(e){this.lastPosition=this.position;var t=!(this.isMouseDown=!1),n=!1,i=void 0;try{for(var a,r=this.callbacks.mouseUp[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){if(a.value.callBack(e))break}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}},{key:"handleMouseMove",value:function(e){this.setPosition(e);var t=!0,n=!1,i=void 0;try{for(var a,r=this.callbacks.mouseMove[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){if(a.value.callBack(e))break}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}},{key:"handleKeyDown",value:function(e){this.pressedKeys.includes(e.keyCode)||this.pressedKeys.push(e.keyCode);var t=!0,n=!1,i=void 0;try{for(var a,r=this.callbacks.keyDown[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){if(a.value.callBack(e))break}}catch(e){n=!0,i=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}},{key:"handleKeyUp",value:function(e){var t=this.pressedKeys.indexOf(e.keyCode);-1<t&&this.pressedKeys.splice(t,1);var n=!0,i=!1,a=void 0;try{for(var r,o=this.callbacks.keyUp[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){if(r.value.callBack(e))break}}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}}},{key:"setPosition",value:function(e){"clientX"in e&&(this.position=new s.default(e.clientX*this.GameState.Canvas.scale,e.clientY*this.GameState.Canvas.scale)),"targetTouches"in e&&(this.position=new s.default(e.targetTouches[0].clientX*this.GameState.Canvas.scale,e.targetTouches[0].clientY*this.GameState.Canvas.scale))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={callbacks:{keyDown:[],keyUp:[],mouseDown:[],mouseMove:[],mouseUp:[],touchEnd:[],touchMove:[],touchStart:[]}}},function(e,t,n){"use strict";var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var a=new Uint8Array(16);e.exports=function(){return i(a),a}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t,n){"use strict";for(var a=[],i=0;i<256;++i)a[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,i=a;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=l(n(30)),r=l(n(13)),o=l(n(33)),s=l(n(53)),u=l(n(56));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deltaTime=a.default.deltaTime,this.isPaused=a.default.isPaused,this.level=a.default.level,this.levels=a.default.levels,this.score=a.default.score,this.currentLevel=new r.default({GameState:this}),this.captains=[]}return i(e,[{key:"init",value:function(){this.initLevels()}},{key:"initCaptains",value:function(){this.captains={kcaj:(0,u.default)(this),jack:(0,s.default)(this)}}},{key:"initLevels",value:function(){var t=this;this.levels=o.default.map(function(e){return e(t)})}},{key:"loadLevel",value:function(){var e=this.levels[this.level];this.initCaptains();var t=[this.captains.jack,this.captains.kcaj];e.load(t),this.currentLevel=e,document.activeElement.blur()}},{key:"play",value:function(){this.isPaused=!1,this.loadLevel()}},{key:"restart",value:function(){this.endlevel(),this.play()}},{key:"quit",value:function(){this.endlevel(),this.UI.setScreen("mainmenu")}},{key:"togglePause",value:function(){this.isPaused=!this.isPaused,this.isPaused&&this.Audio.audioContext.resume(),this.isPaused||this.Audio.audioContext.suspend()}},{key:"endlevel",value:function(){this.currentLevel.unload(),this.isPaused=!0,this.score=a.default.score}}]),e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={deltaTime:1,isPaused:!0,level:0,levels:[],score:0,forceMoveAtEndOfTurn:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=u(n(5)),r=u(n(15)),o=u(n(16)),s=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.GameState=e,this.helperUUIDs=[],this.tile=null,this.currentAction=null,this.callback=function(){},this.isRotating=!1,this.isDragging=!1,this.isMoving=!1}return i(t,[{key:"initRotation",value:function(e,t,n){this.clear(),this.tile=e,this.currentAction=t,this.callback=n,this.isRotating=!0;var i=new o.default({GameState:this.GameState,onClick:this.rotateLeft.bind(this),mouseDownSprite:"./img/Rotate_Left.png",mouseUpSprite:"./img/Rotate_Left.png",hoverSprite:"./img/Rotate_Left.png",scale:e.scale,dimensions:new s.default(64,64),order:-20});i.canvasPosition=new s.default(e.canvasPosition.x+e.dimensions.x*e.scale.x/2,e.canvasPosition.y),i.calculateOffset();var a=new o.default({GameState:this.GameState,onClick:this.rotateRight.bind(this),mouseDownSprite:"./img/Rotate_Right.png",mouseUpSprite:"./img/Rotate_Right.png",hoverSprite:"./img/Rotate_Right.png",scale:e.scale,dimensions:new s.default(64,64),order:-20});a.canvasPosition=new s.default(e.canvasPosition.x-e.dimensions.x*e.scale.x/2,e.canvasPosition.y),a.calculateOffset(),this.helperUUIDs=[this.GameState.Scene.add(i),this.GameState.Scene.add(a)]}},{key:"rotateLeft",value:function(){this.currentAction.actionType=new a.default("ROTATE"),this.currentAction.rotationDirection=-1,this.currentAction.targetTile=this.tile,this.currentAction.commit(),this.tile.isInHand||(this.callback(),this.clear())}},{key:"rotateRight",value:function(){this.currentAction.actionType=new a.default("ROTATE"),this.currentAction.rotationDirection=1,this.currentAction.targetTile=this.tile,this.currentAction.commit(),this.tile.isInHand||(this.callback(),this.clear())}},{key:"initDrag",value:function(e,t,n){this.clear(),this.currentAction=t,this.callback=n,this.isDragging=!0;var i=(0,r.default)(e);i.alpha=.75,this.helperUUIDs=[this.GameState.Scene.add(i)],this.tile=i}},{key:"placeDraggedCell",value:function(){this.currentAction.actionType=new a.default("PLACE"),this.currentAction.commit(),this.callback()}},{key:"initMove",value:function(e,t,n){this.clear(),this.tile=e,this.currentAction=t,this.callback=n,this.isMoving=!0;var i=this.currentAction.sourceTile.player.avatar,a=new o.default({GameState:this.GameState,onClick:this.moveUp.bind(this),mouseDownSprite:"./img/Move_Up.png",mouseUpSprite:"./img/Move_Up.png",hoverSprite:"./img/Move_Up.png",scale:e.scale,dimensions:new s.default(64,64),order:-20});a.canvasPosition=new s.default(i.canvasPosition.x,i.canvasPosition.y-i.dimensions.y*i.scale.y/2),a.calculateOffset();var r=new o.default({GameState:this.GameState,onClick:this.moveDown.bind(this),mouseDownSprite:"./img/Move_Down.png",mouseUpSprite:"./img/Move_Down.png",hoverSprite:"./img/Move_Down.png",scale:e.scale,dimensions:new s.default(64,64),order:-20});r.canvasPosition=new s.default(i.canvasPosition.x,i.canvasPosition.y+i.dimensions.y*i.scale.y/2),r.calculateOffset(),this.helperUUIDs=[this.GameState.Scene.add(a),this.GameState.Scene.add(r)]}},{key:"moveUp",value:function(){var t=this;this.currentAction.actionType=new a.default("MOVE");var e=this.GameState.currentLevel.grid.tiles.find(function(e){return e.id===t.tile.x+"_"+(t.tile.y-1)});e&&(this.currentAction.targetTile=e,this.currentAction.commit(),this.callback()),this.clear()}},{key:"moveDown",value:function(){var t=this;this.currentAction.actionType=new a.default("MOVE");var e=this.GameState.currentLevel.grid.tiles.find(function(e){return e.id===t.tile.x+"_"+(t.tile.y+1)});e&&(this.currentAction.targetTile=e,this.currentAction.commit(),this.callback()),this.clear()}},{key:"clear",value:function(){var t=this;this.helperUUIDs.forEach(function(e){return t.GameState.Scene.remove(e)}),this.helperUUIDs=[],this.tile=null,this.currentAction=null,this.callback=function(){},this.isRotating=!1,this.isDragging=!1,this.isMoving=!1}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(0),r=(i=a)&&i.__esModule?i:{default:i};t.default=function(e,t){return new r.default(t.x+e.Canvas.width/2,e.Canvas.height-(t.y+e.Canvas.height/2))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(34),r=(i=a)&&i.__esModule?i:{default:i};t.default=[function(e){return(0,r.default)(e)}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(35),r=(i=a)&&i.__esModule?i:{default:i};t.default=function(e){return new r.default(e).createLevel({background:"./img/Trees-Test.png",clearOnLoad:!0,cloudCount:0,columns:4,deckSize:16,name:"Prototype Level",rows:4})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),o=p(n(7)),s=p(n(36)),r=p(n(17)),u=p(n(37)),l=p(n(18)),c=p(n(38)),f=p(n(42)),h=p(n(13)),d=p(n(0)),v=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}}(n(43));function p(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),a(t,[{key:"createLevel",value:function(e){return this.level=new h.default(i({GameState:this.GameState},e)),this.level.load=this.generateLoadFunction.bind(this.level,e),this.level}},{key:"generateLoadFunction",value:function(e,t){var a=this;if(e.clearOnLoad&&this.GameState.Scene.clear(),e.background){var n=new s.default({GameState:this.GameState,dimensions:new d.default(512,1024),image:e.background,offset:new d.default(0,0),scale:new d.default(this.GameState.Canvas.width/512,this.GameState.Canvas.width/512)});n.canvasPosition=new d.default(0,-this.GameState.Canvas.height),this.GameState.Scene.add(n)}if(0<e.cloudCount)for(var i=0;i<e.cloudCount;i++){var r=new u.default({GameState:this.GameState,dimensions:new d.default(32,32),offset:new d.default(.5,.5),scale:new d.default(15+Math.floor(15*Math.random()),15+Math.floor(15*Math.random()))});r.canvasPosition=new d.default(Math.random()*this.GameState.Canvas.width,Math.random()*this.GameState.Canvas.height),this.GameState.Scene.add(r)}this.deck=new l.default({deckSize:e.deckSize}),this.players=t,this.attackingPlayer=this.players[0],this.defendingPlayer=this.players[1],this.players.forEach(function(e,t){for(var n=new f.default({GameState:a.GameState,position:new d.default(0,-a.GameState.Canvas.cy),player:e}),i=0;i<e.handSize-t;i++)n.add(a.deck.draw());n.setVisibility(!1),t===a.currentPlayerTurn&&n.setVisibility(!0),e.hand=n,a.GameState.Scene.add(n)}),this.grid=new c.default({GameState:this.GameState,rows:this.rows,columns:this.columns,minimumPadding:100,players:this.players}),this.grid.init(),this.currentAction=new o.default({player:this.attackingPlayer}),this.addControlsCallback("mouseDown",v.handleMouseDown.bind(this)),this.addControlsCallback("mouseUp",v.handleMouseUp.bind(this)),this.addControlsCallback("mouseMove",v.handleMouseMove.bind(this)),this.addControlsCallback("touchStart",v.handleMouseDown.bind(this)),this.addControlsCallback("touchEnd",v.handleMouseUp.bind(this)),this.addControlsCallback("touchMove",v.handleMouseMove.bind(this))}}]),t}();t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=r(n(1));r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e.animations={exist:{frames:1,loop:!1,spriteSheet:e.image,ticksPerFrame:10}},e.currentAnimation="exist";var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.moveSpeed=.2,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"draw",value:function(){this.handleMovement(),function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"draw",this).call(this)}},{key:"handleMovement",value:function(){var e=this.canvasPosition.y+this.moveSpeed*this.GameState.deltaTime;0<=e&&(e=-this.GameState.Canvas.height),this.canvasPosition.y=e}}]),n}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=a(n(1)),o=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),e.animations={exist:{frames:1,loop:!1,spriteSheet:"./img/cloud_1.png",ticksPerFrame:10}},e.currentAnimation="exist";var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e)),n=(e.sprite,e.targetPosition),i=void 0===n?null:n;return t.targetPosition=i,t.canvasPosition=i,t.moveSpeed=1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r.default),i(a,[{key:"handleMovement",value:function(){var e=this.canvasPosition.y+this.moveSpeed*this.GameState.deltaTime;e>=2*this.GameState.Canvas.height?this.canvasPosition=new o.default(Math.random()*this.GameState.Canvas.width,-this.GameState.Canvas.cy):this.canvasPosition.y=e}},{key:"drawEntity",value:function(){this.handleMovement(),function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"drawEntity",this).call(this)}}]),a}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=l(n(39)),a=l(n(9)),o=l(n(41)),s=l(n(8)),u=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var t=e.GameState,n=e.rows,i=void 0===n?6:n,a=e.columns,r=void 0===a?6:a,o=e.minimumPadding,s=void 0===o?50:o,u=e.players;this.GameState=t,this.rows=i,this.columns=r+2,this.maxRowsOrColumns=Math.max(this.rows,this.columns),this.minimumPadding=s,this.tiles=[],this.players=u}return i(l,[{key:"init",value:function(){var t=this;this.minDimension=Math.min(this.GameState.Canvas.width,this.GameState.Canvas.height),this.cellSize=(this.minDimension-this.minimumPadding)/this.maxRowsOrColumns,this.padding=new u.default((this.GameState.Canvas.width-this.cellSize*this.columns)/2,(this.GameState.Canvas.height-this.cellSize*this.rows)/2);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++){var i=new s.default("EMPTY");0!==n&&n!==this.columns-1||(i=new s.default("PLAYER_COLUMN")),this.addTile(n,e,i)}this.tiles.forEach(function(e){e.init(t.tiles)}),this.positionAvatars()}},{key:"positionAvatars",value:function(){var a=this;this.players.forEach(function(e,t){var n=(0===t?0:a.columns-1)+"_"+Math.floor((0,r.default)(0,a.rows-1)),i=a.tiles.find(function(e){return e.id===n});(i.player=e).setAvatarPosition(i),a.GameState.Scene.add(e.avatar)})}},{key:"addTile",value:function(e,t,n){var i=new a.default({GameState:this.GameState,dimensions:new u.default(64,64),offset:new u.default(.5,.5),scale:new u.default(this.cellSize/64,this.cellSize/64),id:e+"_"+t,x:e,y:t,type:n,outline:new o.default({GameState:this.GameState})});i.canvasPosition=new u.default(e*this.cellSize+this.padding.x+this.cellSize/2,t*this.cellSize+this.padding.y+this.cellSize/2),i.targetPosition=i.canvasPosition,i.outline.canvasPosition=i.targetPosition,i.outline.scale=i.scale,i.outline.dimensions=i.dimensions,this.GameState.Scene.add(i),this.tiles.push(i)}},{key:"getTileAtCanvasPosition",value:function(e){var t=Math.floor((e.x-this.padding.x)/this.cellSize),n=Math.floor((e.y-this.padding.y)/this.cellSize);return this.tiles.find(function(e){return e.id===t+"_"+n})}}]),l}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Math.random()*(t-e)+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=o(n(1)),r=o(n(0));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e.animations={exist:{frames:1,loop:!1,spriteSheet:e.sprite,ticksPerFrame:10}},e.currentAnimation="exist";var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.canvasPosition=e.canvasPosition,t.targetPosition=new r.default(e.canvasPosition.x,1.5*t.GameState.Canvas.height),t.moveSpeed=2+3*Math.random(),t.calculateOffset(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"handleMovement",value:function(){var e=this.canvasPosition.y+this.moveSpeed*this.GameState.deltaTime;(this.canvasPosition.y=e)>=1.5*this.GameState.Canvas.height&&this.destroySelf(),this.rotation+=.5*this.GameState.deltaTime}},{key:"destroySelf",value:function(){this.GameState.Scene.remove(this.uuid)}},{key:"drawEntity",value:function(){this.handleMovement(),function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"drawEntity",this).call(this)}}]),n}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=a(n(3)),o=a(n(10)),s=a(n(0));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e)),n=e.scale,i=void 0===n?new s.default(1,1):n;return t.color="#fff",t.lineWidth=(0,o.default)(),t.scale=i,t.calculateOffset(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r.default),i(a,[{key:"draw",value:function(){this.GameState.Canvas.ctx.beginPath(),this.GameState.Canvas.ctx.lineWidth=this.lineWidth,this.GameState.Canvas.ctx.strokeStyle=this.color,this.GameState.Canvas.ctx.rect(0,0,this.dimensions.x*this.scale.x,this.dimensions.y*this.scale.y),this.GameState.Canvas.ctx.stroke()}},{key:"calculateOffset",value:function(){this.scale&&(this.absoluteOffset=new s.default(-this.offset.x*this.dimensions.x*this.scale.x,-this.offset.y*this.dimensions.y*this.scale.y))}}]),a}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=c(n(3)),r=c(n(6)),o=c(n(9)),s=c(n(2)),u=c(n(0)),l=c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.player=e.player,t.tiles=[],t.selectedTile=0,t.size=64,t.scale=1.5*(0,l.default)(),t.paddingRatio=.2,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default),i(n,[{key:"add",value:function(e){var t=new o.default({GameState:this.GameState,dimensions:new u.default(this.size,this.size),offset:new u.default(.5,.5),placedBy:this.player,scale:new u.default(this.scale,this.scale),type:e,isVisible:!1,isInHand:!0});t.uuid=(0,s.default)(),this.tiles.push(t),this.updatePosition()}},{key:"remove",value:function(t){this.tiles=this.tiles.filter(function(e){return e.uuid!==t}),this.updatePosition()}},{key:"updatePosition",value:function(){var n=this,i=this.tiles.length*this.size*this.scale/2;this.tiles.forEach(function(e,t){e.canvasPosition=new u.default(n.GameState.Canvas.cx+t*n.size*(n.scale+n.paddingRatio)-i,n.GameState.Canvas.height-n.size*n.scale/2)})}},{key:"load",value:function(){this.tiles.forEach(function(e){e.load()})}},{key:"drawEntity",value:function(){this.tiles.forEach(function(e){e.drawEntity()})}},{key:"setVisibility",value:function(t){this.tiles.forEach(function(e){e.isVisible=t})}},{key:"getTileAtCanvasPosition",value:function(t){return this.tiles.find(function(e){return(0,r.default)(t,new u.default(e.canvasPosition.x+e.absoluteOffset.x,e.canvasPosition.y+e.absoluteOffset.y),new u.default(e.dimensions.x*e.scale.x,e.dimensions.y*e.scale.y))})}}]),n}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleMouseDown=function(e){var t=a.default.call(this,this.GameState.Controls.position);if(!t)return;(this.currentAction.sourceTile=t).isInHand&&this.tileHelper.initDrag(t,this.currentAction,i.default.bind(this))},t.handleMouseMove=function(e){r.default.call(this),this.tileHelper.isDragging&&this.tileHelper.tile&&(this.tileHelper.tile.canvasPosition=this.GameState.Controls.position);o.default.call(this,this.GameState.Controls.position)},t.handleMouseUp=function(e){var t=a.default.call(this,this.GameState.Controls.position);if(r.default.call(this),!t||!this.tileHelper.isDragging&&"EMPTY"===t.tileType.type||this.tileHelper.isDragging&&t===this.currentAction.sourceTile)return this.currentAction.sourceTile=null,this.currentAction.targetTile=null,void this.tileHelper.clear();"EMPTY"===(this.currentAction.targetTile=t).tileType.type&&this.currentAction.sourceTile&&this.currentAction.sourceTile.isInHand&&(this.tileHelper.placeDraggedCell(),this.tileHelper.clear())};var i=s(n(4)),a=s(n(20)),r=s(n(51)),o=s(n(52));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){for(var i=e,a=0;i===e&&!(100<a++);)i=Math.floor(Math.random()*(n-t)+t);return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new u.default(this.grid.tiles),t=s.default.call(this,this.attackingPlayer.name),n=s.default.call(this,this.defendingPlayer.name),i=e.findPath(t,n);if(0<i.length){var a=i.length;n.player.health-=t.player.damage+a,n.player.avatar.takeDamageAnimation(),o.default.call(this,i),i.forEach(function(e){e.takeDamage(1)})}r.default.call(this)};var r=i(n(46)),o=i(n(47)),s=i(n(11)),u=i(n(49));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t=!1;this.players.forEach(function(e){e.health<=0&&(t=!0,e.health=0)}),t&&window.setTimeout(function(){e.winner=e.players.find(function(e){return 0<e.health}),e.GameState.isPaused=!0,e.GameState.UI.updateScoreScreen(),e.GameState.UI.setScreen("score")},1500)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,n=new r.default({GameState:this.GameState,path:e});window.setTimeout(function(){return t.GameState.Scene.remove(n.uuid)},750)};var i,a=n(48),r=(i=a)&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=r(n(3)),s=(r(n(6)),r(n(9)),r(n(2)),r(n(0)));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e)),n=e.GameState,i=e.path,a=e.color,r=void 0===a?"142,205,255":a;return t.GameState=n,t.path=i,t.color=r,t.elements=[],t.offshoots=20,t.maxwidth=15,t.ofshootBranchLength=40,t.GameState.Scene.add(t),t.createElements(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.default),i(o,[{key:"createElements",value:function(){this.elements=[];for(var e=0;e<this.path.length;e++){if(!this.path[e].cameFrom)return;this.elements[e]={from:this.path[e].cameFrom.canvasPosition,to:this.path[e].canvasPosition,index:Math.floor(3*Math.random()),children:[]};for(var t=this.path[e].canvasPosition,n=0;n<this.offshoots;n++){var i=.5<Math.random()?1:-1,a=.5<Math.random()?1:-1,r=new s.default(t.x+Math.random()*this.ofshootBranchLength*i,t.y+Math.random()*this.ofshootBranchLength*a);this.elements[e].children.push({from:t,to:r,index:n}),t=r}}}},{key:"drawEntity",value:function(){var t=this;this.createElements(),this.elements.forEach(function(e){t.drawLine(e.from,e.to,e.index),e.children.forEach(function(e){return t.drawLine(e.from,e.to,e.index)})})}},{key:"drawLine",value:function(e,t,n){this.GameState.Canvas.ctx.beginPath(),this.GameState.Canvas.ctx.strokeStyle="rgba("+this.color+", 0.685)",this.GameState.Canvas.ctx.lineWidth=Math.max(1,this.maxwidth-n),this.GameState.Canvas.ctx.moveTo(e.x,e.y),this.GameState.Canvas.ctx.lineTo(t.x,t.y),this.GameState.Canvas.ctx.stroke(),this.GameState.Canvas.ctx.beginPath(),this.GameState.Canvas.ctx.strokeStyle="rgba(255,255,255, 0.85)",this.GameState.Canvas.ctx.lineWidth=this.GameState.Canvas.ctx.lineWidth/3,this.GameState.Canvas.ctx.moveTo(e.x,e.y),this.GameState.Canvas.ctx.lineTo(t.x,t.y),this.GameState.Canvas.ctx.stroke()}}]),o}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=n(50),o=(i=r)&&i.__esModule?i:{default:i};var s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.grid=e,this.startCell=null,this.endCell=null,this.frontier=new o.default,this.pathFound=!1,this.hasSearched={}}return a(t,[{key:"findPath",value:function(e,t){this.startCell=e,this.endCell=t,this.hasSearched[e.id]=!0,this.frontier.enqueue(e,1);for(var n=0;!this.pathFound&&0<this.frontier.items.length&&!(100<++n);)for(var i=0;i<this.frontier.items.length;i++)this.getFrontier();return this.buildPath()}},{key:"isPassable",value:function(e){return("PLAYER_COLUMN"!==e.tileType.type||e.player)&&"EMPTY"!==e.tileType.type}},{key:"isConnected",value:function(t,e){return e.neighbors.find(function(e){return!!e&&e.uuid===t.uuid})}},{key:"getFrontier",value:function(){var t=this,n=this.frontier.dequeue();n.neighbors.forEach(function(e){e&&(e.uuid===t.endCell.uuid&&(t.pathFound=!0),!t.hasSearched[e.id]&&t.isPassable(e)&&t.isConnected(n,e)&&(t.hasSearched[e.id]=!0,e.cameFrom=n,t.frontier.enqueue(e,1)))})}},{key:"buildPath",value:function(){for(var e=[this.endCell],t=0,n=!1;!1===n&&!(100<++t);){var i=e[e.length-1].cameFrom;if(!i)break;this.startCell.uuid===i.uuid&&(n=!0),e.push(i)}return this.pathFound?e:[]}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.items=[]}return i(e,[{key:"enqueue",value:function(e,t){for(var n=!1,i=0;i<this.items.length;i++)if(this.items[i].priority>e.priority){this.items.splice(i,0,e),n=!0;break}n||this.items.push(e)}},{key:"dequeue",value:function(){if(0!=this.items.length)return this.items.shift()}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.grid.tiles.forEach(function(e){return e.isHovered=!1}),this.hoveredTile=null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=a.default.call(this,e);t&&(this.hoveredTile=t,this.hoveredTile.isHovered=!0,this.tileHelper.isDragging||("EMPTY"===t.tileType.type||"PLAYER_COLUMN"===t.tileType.type||this.hoveredTile.isInHand||this.tileHelper.initRotation(t,this.currentAction,i.default.bind(this)),"EMPTY"===t.tileType.type&&this.tileHelper.clear()))};var i=r(n(4)),a=r(n(20));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(21),r=(i=a)&&i.__esModule?i:{default:i};t.default=function(e){return new r.default(e).createCaptain({color:"100,100,255",health:50,maxHealth:50,maxMoves:2,moves:2,name:"Jack",spritePath:"./img/captains/Jack/"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),a=r(n(16)),o=r(n(0));function r(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e)),n=(e.sprite,e.targetPosition),i=void 0===n?null:n,a=e.playerName;return t.targetPosition=i,t.canvasPosition=i,t.playerName=a,t.turbulence=new o.default(0,0),t.turbulenceStep=Math.random()*Math.PI*2,t.turbulenceSpeed=.05,t.turbulenceRange=new o.default(1,15),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,a.default),i(r,[{key:"draw",value:function(){this.handleTurbulence(),function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if("value"in a)return a.value;var o=a.get;return void 0!==o?o.call(i):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"draw",this).call(this)}},{key:"handleTurbulence",value:function(){if(this.targetPosition){this.addTurbulence();var e=new o.default(this.targetPosition.x-this.canvasPosition.x-this.turbulence.x,this.targetPosition.y-this.canvasPosition.y-this.turbulence.y);this.canvasPosition=new o.default(this.canvasPosition.x+.005*e.x*this.GameState.deltaTime,this.canvasPosition.y+.005*e.y*this.GameState.deltaTime),this.calculateOffset()}}},{key:"addTurbulence",value:function(){this.turbulenceStep+=this.turbulenceSpeed,this.turbulenceStep>=2*Math.PI&&(this.turbulenceStep=0),this.turbulence=new o.default(Math.cos(this.turbulenceStep)*this.turbulenceRange.x,Math.sin(this.turbulenceStep)*this.turbulenceRange.y)}},{key:"takeDamageAnimation",value:function(e){var t=this;this.currentAnimation="damage",window.setTimeout(function(){t.currentAnimation="mouseUp"},750)}}]),r}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=n(0);(i=r)&&i.__esModule;var o=function(){function j(e){var t=e.GameState,n=e.actions,i=void 0===n?2:n,a=e.avatar,r=e.color,o=void 0===r?"blue":r,s=e.controller,u=void 0===s?"human":s,l=e.damage,c=void 0===l?2:l,f=e.hand,h=void 0===f?[]:f,d=e.handSize,v=void 0===d?4:d,p=e.health,y=void 0===p?50:p,m=e.maxActions,b=void 0===m?2:m,g=e.maxHealth,w=void 0===g?50:g,P=e.maxMoves,S=void 0===P?1:P,_=e.moves,k=void 0===_?1:_,O=e.name,T=void 0===O?"Player 1":O,M=e.tiles,C=void 0===M?{}:M;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,j),this.GameState=t,this.actions=i,this.avatar=a,this.color=o,this.controller=u,this.damage=c,this.hand=h,this.handSize=v,this.health=y,this.maxActions=b,this.maxHealth=w,this.maxMoves=S,this.moves=k,this.name=T,this.tiles=C}return a(j,[{key:"setAvatarPosition",value:function(e){this.name;this.avatar.targetPosition=e.canvasPosition}}]),j}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(21),r=(i=a)&&i.__esModule?i:{default:i};t.default=function(e){return new r.default(e).createCaptain({color:"255,100,100",health:30,maxHealth:30,maxMoves:4,moves:4,name:"Kcaj",spritePath:"./img/captains/Kcaj/"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.GameState=e,this.isRunning=!1}return i(t,[{key:"init",value:function(){this.isRunning||(this.isRunning=!0,this.render())}},{key:"shouldRender",value:function(){return!this.GameState.isPaused}},{key:"render",value:function(){this.isRunning&&window.requestAnimationFrame(this.render.bind(this)),this.shouldRender()&&(this.GameState.Canvas.clear(),this.GameState.Scene.gameObjects.forEach(function(e){return e.drawEntity()}))}}]),t}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=n(2),o=(i=r)&&i.__esModule?i:{default:i};var s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.GameState=e,this.gameObjects=[]}return a(t,[{key:"init",value:function(){}},{key:"add",value:function(e){return e.uuid=(0,o.default)(),e.load(),this.gameObjects.push(e),e.uuid}},{key:"remove",value:function(t){this.gameObjects.find(function(e){return e.uuid===t}).unload(),this.gameObjects=this.gameObjects.filter(function(e){return e.uuid!==t})}},{key:"clear",value:function(){this.gameObjects=[]}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),r=n(19),o=(i=r)&&i.__esModule?i:{default:i};var s=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.GameState=e,this.screens=document.querySelectorAll("[data-screen]"),this.buttons={fullscreen:document.querySelectorAll("[data-gamestate-fullscreen]"),initAudio:document.querySelectorAll("[data-gamestate-init-audio]"),level:document.querySelectorAll("[data-gamestate-change-level]"),mute:document.querySelectorAll("[data-gamestate-mute]"),pause:document.querySelectorAll("[data-gamestate-pause]"),play:document.querySelectorAll("[data-gamestate-play]"),quit:document.querySelectorAll("[data-gamestate-quit]"),restart:document.querySelectorAll("[data-gamestate-restart]"),screens:document.querySelectorAll("[data-ui-target-screen]"),endTurn:document.querySelectorAll("[data-gamestate-end-turn]")},this.isFullscreen=!1}return a(t,[{key:"init",value:function(){this.initListenters(),this.setScreen("mainmenu"),this.updateLevel(this.GameState.levels[this.GameState.level].name)}},{key:"initListenters",value:function(){var t=this;Array.from(this.buttons.initAudio).forEach(function(e){e.addEventListener("click",function(){t.GameState.Audio.isInitialized||t.GameState.Audio.init()})}),Array.from(this.buttons.play).forEach(function(e){e.addEventListener("click",function(){return t.GameState.play()})}),Array.from(this.buttons.pause).forEach(function(e){e.addEventListener("click",function(){return t.GameState.togglePause()})}),Array.from(this.buttons.restart).forEach(function(e){e.addEventListener("click",function(){return t.GameState.restart()})}),Array.from(this.buttons.fullscreen).forEach(function(e){e.addEventListener("click",function(){return t.toggleFullscreen()})}),Array.from(this.buttons.level).forEach(function(e){e.addEventListener("click",function(e){t.GameState.level+=parseInt(e.target.dataset.gamestateChangeLevel,10),t.GameState.level>=t.GameState.levels.length&&(t.GameState.level=0),t.GameState.level<0&&(t.GameState.level=t.GameState.levels.length-1),t.updateLevel(t.GameState.levels[t.GameState.level].name)})}),Array.from(this.buttons.quit).forEach(function(e){e.addEventListener("click",function(){return t.GameState.quit()})}),Array.from(this.buttons.mute).forEach(function(e){e.addEventListener("click",function(e){return t.GameState.Audio.toggleMute()})}),Array.from(this.buttons.screens).forEach(function(e){e.addEventListener("click",t.initTransitions.bind(t))}),Array.from(this.buttons.endTurn).forEach(function(e){e.addEventListener("click",function(){o.default.call(t.GameState.currentLevel)})})}},{key:"initTransitions",value:function(e){this.setScreen(e.target.dataset.uiTargetScreen)}},{key:"setScreen",value:function(t){Array.from(this.screens).forEach(function(e){e.dataset.screen===t?e.classList.add("active"):e.classList.remove("active")})}},{key:"toggleFullscreen",value:function(){var e=document.documentElement;this.isFullscreen||(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()),this.isFullscreen&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()),this.isFullscreen=!this.isFullscreen}},{key:"updatePlayerStats",value:function(e){var s=this;e&&e.forEach(function(e,t){var n=document.querySelector('[data-ui-player="'+(t+1)+'"] [data-ui="name"]'),i=document.querySelector('[data-ui-player="'+(t+1)+'"] [data-ui="health"]'),a=document.querySelector('[data-ui-player="'+(t+1)+'"] [data-ui="damage"]'),r=document.querySelector('[data-ui-player="'+(t+1)+'"] [data-ui="actions"]'),o=document.querySelector('[data-ui-player="'+(t+1)+'"] [data-ui="moves"]');n.innerHTML=e.name+(s.GameState.currentLevel.currentPlayerTurn===t?"*":""),i.innerHTML="HP: "+e.health+"/"+e.maxHealth,a.innerHTML="DMG: "+e.damage,r.innerHTML="ACT: "+e.actions+"/"+e.maxActions,o.innerHTML="MOV: "+e.moves+"/"+e.maxMoves})}},{key:"updateLevel",value:function(t){t&&Array.from(document.querySelectorAll('[data-ui="level"]')).forEach(function(e){e.innerHTML=t})}},{key:"updateScoreScreen",value:function(){this.GameState.currentLevel.winner&&(document.querySelector('[data-ui="winner"]').innerHTML=this.GameState.currentLevel.winner.name+" Wins!")}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.GameState=e,this.isRunning=!1,this.lastUpdate=Date.now(),this.updateRate=10}return i(t,[{key:"init",value:function(){this.isRunning||(this.isRunning=!0,this.update())}},{key:"calculateDeltaTime",value:function(){var e=Date.now();this.GameState.deltaTime=e-this.lastUpdate,this.lastUpdate=e}},{key:"shouldUpdate",value:function(){return!this.GameState.isPaused}},{key:"update",value:function(){this.isRunning&&window.setTimeout(this.update.bind(this),this.updateRate),this.shouldUpdate()&&(this.calculateDeltaTime(),this.GameState.levels[this.GameState.level].gameLogic(),this.GameState.Scene.gameObjects.forEach(function(e){return e.update()}))}}]),t}();t.default=a}])});